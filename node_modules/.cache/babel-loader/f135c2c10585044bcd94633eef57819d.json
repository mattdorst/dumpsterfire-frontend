{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Projects/sushiswap-frontend/src/views/Home/components/Balances.tsx\";\nimport BigNumber from 'bignumber.js';\nimport React, { useEffect, useState } from 'react';\nimport CountUp from 'react-countup';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport Label from '../../../components/Label';\nimport Spacer from '../../../components/Spacer';\nimport Value from '../../../components/Value';\nimport SushiIcon from '../../../components/SushiIcon';\nimport useAllEarnings from '../../../hooks/useAllEarnings';\nimport useAllStakedValue from '../../../hooks/useAllStakedValue';\nimport useFarms from '../../../hooks/useFarms';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useSushi from '../../../hooks/useSushi';\nimport { getSushiAddress, getSushiSupply } from '../../../sushi/utils';\nimport { getBalanceNumber } from '../../../utils/formatBalance';\n\nconst PendingRewards = () => {\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(0);\n  const [scale, setScale] = useState(1);\n  const allEarnings = useAllEarnings();\n  let sumEarning = 0;\n\n  for (let earning of allEarnings) {\n    sumEarning += new BigNumber(earning).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const [farms] = useFarms();\n  const allStakedValue = useAllStakedValue();\n\n  if (allStakedValue && allStakedValue.length) {\n    const sumWeth = farms.reduce((c, {\n      id\n    }, i) => c + (allStakedValue[i].totalWethValue.toNumber() || 0), 0);\n  }\n\n  useEffect(() => {\n    setStart(end);\n    setEnd(sumEarning);\n  }, [sumEarning]);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      transform: `scale(${scale})`,\n      transformOrigin: 'right bottom',\n      transition: 'transform 0.5s',\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CountUp, {\n    start: start,\n    end: end,\n    decimals: end < 0 ? 4 : end > 1e5 ? 0 : 3,\n    duration: 1,\n    onStart: () => {\n      setScale(1.25);\n      setTimeout(() => setScale(1), 600);\n    },\n    separator: \",\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst Balances = () => {\n  const [totalSupply, setTotalSupply] = useState();\n  const sushi = useSushi();\n  const sushiBalance = useTokenBalance(getSushiAddress(sushi));\n  const {\n    account,\n    ethereum\n  } = useWallet();\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const supply = await getSushiSupply(sushi);\n      setTotalSupply(supply);\n    }\n\n    if (sushi) {\n      fetchTotalSupply();\n    }\n  }, [sushi, setTotalSupply]);\n  return /*#__PURE__*/React.createElement(StyledWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledBalances, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledBalance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SushiIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Your BURN Balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Value, {\n    value: !!account ? getBalanceNumber(sushiBalance) : 'Locked',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(Footnote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Pending harvest\", /*#__PURE__*/React.createElement(FootnoteValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PendingRewards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), \" BURN\"))), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Total SUSHI Supply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Value, {\n    value: totalSupply ? getBalanceNumber(totalSupply) : 'Locked',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footnote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, \"New rewards per block\", /*#__PURE__*/React.createElement(FootnoteValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"1,000 SUSHI\"))));\n};\n\nconst Footnote = styled.div`\n  font-size: 14px;\n  padding: 8px 20px;\n  color: ${props => props.theme.color.grey[400]};\n  border-top: solid 1px ${props => props.theme.color.grey[300]};\n`;\nconst FootnoteValue = styled.div`\n  font-family: 'Roboto Mono', monospace;\n  float: right;\n`;\nconst StyledWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: stretch;\n  }\n`;\nconst StyledBalances = styled.div`\n  display: flex;\n`;\nconst StyledBalance = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n`;\nexport default Balances;","map":{"version":3,"sources":["/Users/matt/Projects/sushiswap-frontend/src/views/Home/components/Balances.tsx"],"names":["BigNumber","React","useEffect","useState","CountUp","styled","useWallet","Card","CardContent","Label","Spacer","Value","SushiIcon","useAllEarnings","useAllStakedValue","useFarms","useTokenBalance","useSushi","getSushiAddress","getSushiSupply","getBalanceNumber","PendingRewards","start","setStart","end","setEnd","scale","setScale","allEarnings","sumEarning","earning","div","pow","toNumber","farms","allStakedValue","length","sumWeth","reduce","c","id","i","totalWethValue","transform","transformOrigin","transition","display","setTimeout","Balances","totalSupply","setTotalSupply","sushi","sushiBalance","account","ethereum","fetchTotalSupply","supply","flex","Footnote","props","theme","color","grey","FootnoteValue","StyledWrapper","StyledBalances","StyledBalance"],"mappings":"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","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState } from 'react'\nimport CountUp from 'react-countup'\nimport styled from 'styled-components'\nimport { useWallet } from 'use-wallet'\nimport Card from '../../../components/Card'\nimport CardContent from '../../../components/CardContent'\nimport Label from '../../../components/Label'\nimport Spacer from '../../../components/Spacer'\nimport Value from '../../../components/Value'\nimport SushiIcon from '../../../components/SushiIcon'\nimport useAllEarnings from '../../../hooks/useAllEarnings'\nimport useAllStakedValue from '../../../hooks/useAllStakedValue'\nimport useFarms from '../../../hooks/useFarms'\nimport useTokenBalance from '../../../hooks/useTokenBalance'\nimport useSushi from '../../../hooks/useSushi'\nimport { getSushiAddress, getSushiSupply } from '../../../sushi/utils'\nimport { getBalanceNumber } from '../../../utils/formatBalance'\n\nconst PendingRewards: React.FC = () => {\n  const [start, setStart] = useState(0)\n  const [end, setEnd] = useState(0)\n  const [scale, setScale] = useState(1)\n\n  const allEarnings = useAllEarnings()\n  let sumEarning = 0\n  for (let earning of allEarnings) {\n    sumEarning += new BigNumber(earning)\n      .div(new BigNumber(10).pow(18))\n      .toNumber()\n  }\n\n  const [farms] = useFarms()\n  const allStakedValue = useAllStakedValue()\n\n  if (allStakedValue && allStakedValue.length) {\n    const sumWeth = farms.reduce(\n      (c, { id }, i) => c + (allStakedValue[i].totalWethValue.toNumber() || 0),\n      0,\n    )\n  }\n\n  useEffect(() => {\n    setStart(end)\n    setEnd(sumEarning)\n  }, [sumEarning])\n\n  return (\n    <span\n      style={{\n        transform: `scale(${scale})`,\n        transformOrigin: 'right bottom',\n        transition: 'transform 0.5s',\n        display: 'inline-block',\n      }}\n    >\n      <CountUp\n        start={start}\n        end={end}\n        decimals={end < 0 ? 4 : end > 1e5 ? 0 : 3}\n        duration={1}\n        onStart={() => {\n          setScale(1.25)\n          setTimeout(() => setScale(1), 600)\n        }}\n        separator=\",\"\n      />\n    </span>\n  )\n}\n\nconst Balances: React.FC = () => {\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\n  const sushi = useSushi()\n  const sushiBalance = useTokenBalance(getSushiAddress(sushi))\n  const { account, ethereum }: { account: any; ethereum: any } = useWallet()\n\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const supply = await getSushiSupply(sushi)\n      setTotalSupply(supply)\n    }\n    if (sushi) {\n      fetchTotalSupply()\n    }\n  }, [sushi, setTotalSupply])\n\n  return (\n    <StyledWrapper>\n      <Card>\n        <CardContent>\n          <StyledBalances>\n            <StyledBalance>\n              <SushiIcon />\n              <Spacer />\n              <div style={{ flex: 1 }}>\n                <Label text=\"Your BURN Balance\" />\n                <Value\n                  value={!!account ? getBalanceNumber(sushiBalance) : 'Locked'}\n                />\n              </div>\n            </StyledBalance>\n          </StyledBalances>\n        </CardContent>\n        <Footnote>\n          Pending harvest\n          <FootnoteValue>\n            <PendingRewards /> BURN\n          </FootnoteValue>\n        </Footnote>\n      </Card>\n      <Spacer />\n\n      <Card>\n        <CardContent>\n          <Label text=\"Total SUSHI Supply\" />\n          <Value\n            value={totalSupply ? getBalanceNumber(totalSupply) : 'Locked'}\n          />\n        </CardContent>\n        <Footnote>\n          New rewards per block\n          <FootnoteValue>1,000 SUSHI</FootnoteValue>\n        </Footnote>\n      </Card>\n    </StyledWrapper>\n  )\n}\n\nconst Footnote = styled.div`\n  font-size: 14px;\n  padding: 8px 20px;\n  color: ${(props) => props.theme.color.grey[400]};\n  border-top: solid 1px ${(props) => props.theme.color.grey[300]};\n`\nconst FootnoteValue = styled.div`\n  font-family: 'Roboto Mono', monospace;\n  float: right;\n`\n\nconst StyledWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: stretch;\n  }\n`\n\nconst StyledBalances = styled.div`\n  display: flex;\n`\n\nconst StyledBalance = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n`\n\nexport default Balances\n"]},"metadata":{},"sourceType":"module"}